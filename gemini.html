---
layout: default
title:  Erturul Gazi ile Hasbihal
---

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Chat</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/15.0.7/marked.min.js" integrity="sha512-rPuOZPx/WHMHNx2RoALKwiCDiDrCo4ekUctyTYKzBo8NGA79NcTW2gfrbcCL2RYL7RdjX2v9zR0fKyI4U4kPew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .chat-container {
            height: calc(100vh - 180px);
        }
        .message {
            max-width: 80%;
            margin: 8px;
            padding: 12px;
            border-radius: 12px;
        }
        .user-message {
            background-color: #2563eb;
            color: white;
            margin-left: auto;
        }
        .ai-message {
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .error-message {
            background-color: #fee2e2;
            color: #dc2626;
        }
        .voice-controls {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        .voice-button {
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .voice-button:hover {
            opacity: 0.8;
        }
        .voice-button.active {
            background-color: #2563eb;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4 max-w-4xl">
        <div class="bg-white rounded-lg shadow-lg p-4">
            <h1 class="text-2xl font-bold text-center mb-4">Erturul Gazi Chat</h1>
            <div class="voice-controls">
                <button id="speakButton" class="voice-button bg-blue-500 text-white">
                    <span>游댉 Sesli Yan캼t</span>
                </button>
                <button id="listenButton" class="voice-button bg-green-500 text-white">
                    <span>游꿗 Sesli Giri</span>
                </button>
            </div>
            <div id="chat-messages" class="chat-container overflow-y-auto mb-4 p-4 bg-gray-50 rounded-lg">
                <!-- Mesajlar buraya gelecek -->
            </div>
            <form id="chat-form" class="flex gap-2">
                <input type="text" 
                       id="user-input" 
                       class="flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                       placeholder="Mesaj캼n캼z캼 yaz캼n...">
                <button type="submit" 
                        class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
                    G칬nder
                </button>
            </form>
        </div>
    </div>

    <script type="module">
        import { GoogleGenerativeAI } from "https://esm.sh/@google/generative-ai";

        const API_KEY = 'AIzaSyCYZwm0QJesG_NzDKwSclY6N2PLDdXFKHc';

        const SYSTEM_PROMPT = `Sen Erturul Gazisin. Osmanl캼 Devleti'nin kurucusu Osman Bey'in babas캼 ve Kay캼 boyunun beyisin.

K캻뤣SEL B캻LG캻LER:
- Babas캼: G칲nd칲z Alp (S칲leyman 료h de를l, bu tarihsel olarak yanl캼릆캼r)
- Do릇m: XIII. y칲zy캼l ba륿ar캼
- Vefat: 680/1281-82 (yakla캼k 90 ya캼nda)
- T칲rbe: Bilecik ili S칬칲t il칞esi, S칬칲t-Bilecik yolu 칲zerinde
- Mensup oldu릇 boy: Kay캼 (O릇zlar'캼n h칲k칲mdar 칞캼karan be boyundan biri)

TAR캻H캻 ROL칖 VE BA뢰RILARI:
1. Sel칞uklu D칬nemi:
   - Alaeddin Keykubad d칬neminde Sel칞uklu ordusuna yard캼m etti
   - Yass캼칞imen Sava캼'nda (1230) Mo릂llara kar캼 Sel칞uklulara destek verdi
   - Karacada ve 칞evresi kendisine yurt olarak verildi
   - Eski른hir ve 칞evresi kendisine ikta edildi

2. U칞 Beyli를 D칬nemi:
   - S칬칲t ve 칞evresine yerle릆i
   - Bizans s캼n캼r캼nda u칞 beyi olarak g칬rev yapt캼
   - Karacahisar'캼 fethetti (629/1231-32)
   - Bilecik ve Osmaneli tekfurlar캼yla iyi ili륾iler kurdu

3. Siyasi ve Askeri Faaliyetleri:
   - Bizans s캼n캼rlar캼nda ak캼nlar d칲zenledi
   - Ak칞akoca, Samsa 칂avu, Kara Tegin gibi u칞 beylerini etraf캼nda toplad캼
   - Kay캼 a를retini g칲칞lendirdi ve b칲y칲tt칲
   - O륿u Osman Bey'e beyli를 devretti

KONU뢼A TARZI VE 칖SLUP:
1. Din칥 ve Manev칥 캻fadeler:
   - "Bismillahirrahmanirrahim" - Her i를n ba캼nda
   - "Hamd olsun" - 뤢짦칲r ifadesi
   - "캻n르llah/Ma르llah" - 캻nanc캼 yans캼tan ifadeler
   - "Hak/Hak yol" - Adalet ve doruluk vurgusu
   - "Ferman Allah'캼nd캼r" - 캻lahi takdir

2. T칬re ve Ahl칙k Dili:
   - "T칬re/T칬remiz" - Gelenek ve kurallar
   - "Yi를tlik/Cesaret" - Kahramanl캼k vurgusu
   - "Sadakat/Liyakat" - De른r yarg캼lar캼
   - "캻zzet/Onur" - 룐ref ve haysiyet

3. Sava ve Strateji Dili:
   - "Cenk/Gaz칙" - Sava ve m칲cadele
   - "Alp/Bey" - Liderlik ve komutanl캼k
   - "Can verilir, yurt verilmez" - Vatan sevgisi
   - "칐l칲rsek 른hit, kal캼rsak gazi" - Fedakarl캼k

4. Hitabet Kal캼plar캼:
   - "Ey yi를tlerim..."
   - "Ey beyler, iyi dinleyin!"
   - "Evvela 릇nu bilesiniz ki..."
   - "Biz bu yola ba koyduk"
   - "Yolumuz hak yolu, davam캼z kutlu davad캼r"

KONU뢼A KURALLARI:
1. Her zaman t칬re ve ahl칙k 칞er칞evesinde konu
2. Din칥 ve manev칥 de른rlere sayg캼l캼 ol
3. Adalet ve hakkaniyeti vurgula
4. Tarihi ger칞eklere ba륿캼 kal
5. Liderlik vas캼flar캼n캼 yans캼t
6. Cesaret ve yi를tli를 칬n plana 칞캼kar
7. Birlik ve beraberli를 vurgula
8. Gelecek nesillere 칬칲t ver

칐ZEL B캻LG캻LER:
- Kay캼 boyunun beyi olarak g칬rev yapt캼n
- Sel칞uklu sultanlar캼na ba륿캼l캼캼n캼 g칬sterdin
- Bizans s캼n캼r캼nda u칞 beyi olarak hizmet ettin
- O륿u Osman Bey'e beyli를 devrettin
- T칲rben S칬칲t'te ziyaret edilmekte
- Her y캼l S칬칲t'te 른nlikler d칲zenlenmekte`;

        const genAI = new GoogleGenerativeAI(API_KEY);
        const model = genAI.getGenerativeModel({ 
            model: "gemini-1.5-flash",
            generationConfig: {
                temperature: 0.8,
                topK: 40,
                topP: 0.95,
                maxOutputTokens: 1024,
            }
        });

        let chatHistory = [];

        const chatMessages = document.getElementById('chat-messages');
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');

        // Voice functionality
        const speakButton = document.getElementById('speakButton');
        const listenButton = document.getElementById('listenButton');
        let isListening = false;
        let recognition = null;

        // Initialize speech recognition
        if ('webkitSpeechRecognition' in window) {
            recognition = new webkitSpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'tr-TR';

            recognition.onresult = (event) => {
                const text = event.results[0][0].transcript;
                userInput.value = text;
                sendMessage(text);
            };

            recognition.onend = () => {
                isListening = false;
                listenButton.classList.remove('active');
            };
        }

        // Text to speech function
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'tr-TR';
                utterance.rate = 1.0;
                utterance.pitch = 1.0;
                speechSynthesis.speak(utterance);
            }
        }

        // Toggle listening
        listenButton.addEventListener('click', () => {
            if (!recognition) {
                alert('Taray캼c캼n캼z ses tan캼ma 칬zelli를ni desteklemiyor.');
                return;
            }

            if (!isListening) {
                recognition.start();
                isListening = true;
                listenButton.classList.add('active');
            } else {
                recognition.stop();
                isListening = false;
                listenButton.classList.remove('active');
            }
        });

        async function sendMessage(message) {
            try {
                addMessage('user', message);
                chatHistory.push({ role: "user", parts: [{ text: message }] });

                const chat = model.startChat({
                    history: [
                        { role: "user", parts: [{ text: SYSTEM_PROMPT }] },
                        { role: "model", parts: [{ text: "Anlad캼m, Erturul Gazi olarak size yard캼mc캼 olaca캼m." }] },
                        ...chatHistory
                    ],
                });

                const result = await chat.sendMessage(message);
                const aiResponse = result.response.text();
                addMessage('ai', aiResponse);
                chatHistory.push({ role: "model", parts: [{ text: aiResponse }] });

            } catch (error) {
                console.error('Hata:', error);
                addMessage('error', '칖zg칲n칲m, bir hata olu릆u: ' + error.message);
            }
        }

        function addMessage(type, text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            messageDiv.innerHTML = marked.parse(text);
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Always speak AI messages
            if (type === 'ai') {
                speakText(text);
            }
        }

        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const message = userInput.value.trim();
            if (message) {
                userInput.value = '';
                await sendMessage(message);
            }
        });

        window.addEventListener('load', () => {
            const welcomeMessage = "Bismillahirrahmanirrahim. Hamd, alemlerin Rabbi olan Allah'ad캼r. Sel칙m olsun hakk캼 arayana, t칬reyi g칬zetene, mazlumu koruyana. Ben, Kay캼 boyundan G칲nd칲z Alp o륿u Erturul'um. Karanl캼k zamanda bir k캼v캼lc캼m olmaya niyet ettim. Zira zul칲m b칲y칲rse, adalet susarsa, beyli를n y칲re를 칞칲r칲r. Bu yolda ba veririz, ama ba e릀eyiz. Zira hak bildi를miz yoldan d칬nmek bize yak캼릀az.";
            addMessage('ai', welcomeMessage);
            chatHistory.push({ role: "model", parts: [{ text: welcomeMessage }] });
        });
    </script>
</body>
</html>
